---
import Layout from "../../layouts/Layout.astro";
import "../../styles/global.css";
---

<Layout title="TRIUMF Co-op">
  <section class="p-8 sm:p-12 md:p-16 lg:p-24 max-w-4xl mx-auto">
    <a href="/#experience" class="text-sm text-gray-500 hover:underline">
      ← Back to Home
    </a>

    <h1 class="mt-4 text-4xl sm:text-5xl font-bold text-gray-900">
      TRIUMF Particle Accelerator
    </h1>

    <p class="mt-2 text-lg text-gray-600">
      Engineering / Research Co-op – PIONEER Experiment
    </p>

    <!-- INTRO -->
    <div class="mt-8 text-gray-700 leading-relaxed space-y-4">
      <p class="font-medium">
        GitHub Repo:
        <a
          href="https://github.com/emajkic/PUMA_Tests"
          target="_blank"
          rel="noopener noreferrer"
          class="text-blue-600 underline underline-offset-4"
        >
          https://github.com/emajkic/PUMA_Tests
        </a>
      </p>

      <p>
        During my time at TRIUMF, I worked with the PIONEER group (a rare pion decay experiment) as an engineering/research student co-op. High-precision experiments like PIONEER plan on using liquid xenon (LXe) calorimeters (Fig. 1, 2) to measure energies of incoming particles. 
      </p>

      <p>
        Impurities in the LXe will affect the precision of energy measurements through electron attachment and absorption of light emitted by scintillation. A purity monitor assembly (PUMA) was built to accurately measure the level of impurity inside of these calorimeters. I was involved in the testing and simulations of PUMA, and I lead the development of a calibration device for PUMA.
      </p>
    </div>

    <!-- Fig 1–2 -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-8">
      <figure>
          <img
            src="/zfig1.png"
            alt="Calorimeter diagram"
            class="w-full aspect-square object-cover rounded-md shadow-lg"
          />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">
          Fig. 1: Calorimeter diagram
        </figcaption>
      </figure>

      <figure>
          <img
            src="/zfig2.png"
            alt="Calorimeter diagram"
            class="w-full aspect-square object-cover rounded-md shadow-lg"
          />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">
          Fig. 2: 3D calorimeter model
        </figcaption>
      </figure>
    </div>

    <!-- BRIEF PUMA EXPLAIN -->
    <h2 class="mt-12 text-2xl font-semibold text-gray-900">
      PUMA Overview
    </h2>

    <div class="mt-4 text-gray-700 leading-relaxed space-y-4">
      <p>
        PUMA operates with the goal of measuring the purity of the medium it is immersed in.
        A xenon flash lamp emits electrons from its photocathode; signals produced by electrons are measured by PCBs at PUMA’s anode and cathode. 
        These signals can be mathematically related to the purity of the surrounding medium.
      </p>
    </div>

    <!-- Fig 3–5 -->
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-8">
      <figure>
          <img
            src="/zfig3.png"
            alt="PUMA diagram"
            class="w-full aspect-square object-cover rounded-md shadow-lg"
          />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 3: PUMA diagram</figcaption>
      </figure>
      <figure>  
          <img
            src="/zfig4.png"
            alt="PUMA assembly"
            class="w-full aspect-square object-cover rounded-md shadow-lg"
          />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 4: PUMA assembly</figcaption>
      </figure>
      <figure>
          <img
            src="/zfig5.png"
            alt="PUMA CAD design"
            class="w-full aspect-square object-cover rounded-md shadow-lg"
          />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 5: PUMA CAD model</figcaption>
      </figure>
    </div>

    <!-- Fig 6 -->
    <figure class="mt-8">
      <img
        src="/zfig6.png"
        alt="PUMA electronics"
        class="w-full h-auto rounded-md shadow-lg"
      />
      <figcaption class="mt-1 text-sm text-gray-500 text-center">
        Fig. 6: PUMA electrical diagram
      </figcaption>
    </figure>


    <!-- SIMULATIONS -->
    <h2 class="mt-12 text-2xl font-semibold text-gray-900">
      Simulations
    </h2>

    <div class="mt-4 text-gray-700 leading-relaxed space-y-4">
      <p>
        One of my main tasks was to develop precise physics simulations of particle behaviour in PUMA. My simulations were developed with the goal of verifying assumptions and experimental results as well as better understanding interactions in PUMA’s drift region. I developed all simulations on Linux (Ubuntu), running them within a Singularity container from SSH into TRIUMF’s local computer. 
      </p>
      <p>
        COMSOL Multiphysics is a simulation platform that employs finite element methods to model and solve physics problems. I used the electrostatics module of COMSOL to generate a field map and mesh containing information about the geometry of PUMA for integration with Garfield++. COMSOL study results are shown in Figures 8-9.
      </p>
    </div>

    <!-- Fig 7–8 -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-8">
      <figure>
        <img
          src="/zfig7.png"
          alt="PUMA potential"
          class="w-full h-auto rounded-md shadow-lg"
        />      
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 7: PUMA potential (voltage) study</figcaption>
      </figure>
      <figure>
        <img
          src="/zfig8.png"
          alt="PUMA efield"
          class="w-full h-auto rounded-md shadow-lg"
        />        
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 8: PUMA electric field study</figcaption>
    </figure>
    </div>

    <div class="mt-6 text-gray-700 leading-relaxed space-y-4">
      <p>
        Garfield++ is a C++ library written by CERN for the detailed simulation of particle detectors based on ionisation in gases and semiconductors. I used Garfield++ to produce simulations of electron drift in PUMA using the DriftLineRKF class. DriftLineRKF performs calculation of drift lines based on macroscopic transport coefficients using Runge-Kutta-Fehlberg integration. Further, the TrackHeed class was used to visualize electron drift lines in the drift region when n electrons are emitted from the cathode of PUMA. Simulations were initially conducted in gaseous Argon at atmospheric pressure and room temperature; a second version of the simulation was done in liquid xenon.
      </p>
    </div>
    
    <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Fig 9 -->
      <figure>
        <img
          src="/zfig9.png"
          alt="COMSOL mesh"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">
          Fig. 9: COMSOL meshing and export
        </figcaption>
      </figure>
    
      <!-- Fig 10 -->
      <figure>
        <img
          src="/zfig10.png"
          alt="COMSOL sim"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">
          Fig. 10: COMSOL/Garfield++ integration simulation setup
        </figcaption>
      </figure>
    </div>


    <!-- LITTLE PUMA -->
    <h2 class="mt-12 text-2xl font-semibold text-gray-900">
      Little PUMA: Calibration Device
    </h2>

    <div class="mt-4 text-gray-700 leading-relaxed space-y-4">
      <p>
        Aside from PUMA simulations, I joined the team right at the start of the development of PUMA’s calibration device. The development and testing of this device from start to end was given as a project to be led by me.
      </p>

      <p>
        Inside of the drift region of PUMA, two grids are mounted (Fig. 12). Some electrons travelling through the drift region will get stopped by this physical mesh; the grid transparency is defined as the number of such electrons that pass successfully through the grid. Due to the precise nature of PUMA’s measurements, PUMA must be calibrated by determining the transparency of the grids mounted inside of it. 
      </p>
    </div>

    <!-- Fig 11–12 -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-8">
      <figure>
        <img
          src="/zfig11.png"
          alt="PUMA calibration"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 11: PUMA Calibration device detail</figcaption>
      </figure>
      <figure>
        <img
          src="/zfig12.png"
          alt="PUMA calibration"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 12: PUMA Calibration device CAD model</figcaption>
      </figure>
    </div>

    <!-- Fig 13 -->
    <figure class="mt-8">
        <img
          src="/zfig13.png"
          alt="Little PUMA"
          class="w-full h-auto rounded-md shadow-lg"
        />
      <figcaption class="mt-1 text-sm text-gray-500 text-center">
        Fig. 13: PUMA calibration device
      </figcaption>
    </figure>

    <!-- VACUUM SYSTEM -->
    <h2 class="mt-12 text-2xl font-semibold text-gray-900">
      Vacuum System
    </h2>

    <div class="mt-4 text-gray-700 leading-relaxed space-y-4">
      <p>
        I designed and assembled a KF-flanged vacuum system in order to perform first tests of little PUMA. The purpose of the system was to contain little PUMA, provide connections to the Xenon lamp/power supplies/instruments, and display internal pressure. The system was made to allow for measurement in both vacuum and gas (argon, xenon).
      </p>
    </div>

    <!-- Fig 14 -->
    <figure class="mt-8">
        <img
          src="/zfig14.png"
          alt="Vacuum system"
          class="w-full h-auto rounded-md shadow-lg"
        />
      <figcaption class="mt-1 text-sm text-gray-500 text-center">
        Fig. 14: Vacuum system final design
      </figcaption>
    </figure>

    <!-- Fig 15–18 -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-8">
      <figure>
        <img
          src="/zfig15.png"
          alt="Integration"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 15: Electrical preparation</figcaption>
      </figure>
      <figure>
        <img
          src="/zfig16.png"
          alt="Integration"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 16: Vacuum system integration</figcaption>
      </figure>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-8">
      <figure>
        <img
          src="/zfig17.png"
          alt="Vacuum process"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 17: Vacuum system assmebly process</figcaption>
      </figure>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-8">
      <figure>
        <img
          src="/zfig18.png"
          alt="Vacuum final"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 18: Final vacuum system and setup in laboratory</figcaption>
      </figure>
    </div>

    <!-- ELECTRICAL BOX -->
     <div class="mt-4 text-gray-700 leading-relaxed space-y-4">
      <p>
        To interface with the MicroPirani Vacuum Pressure Transducer chosen for the system, it was necessary to create a custom electrical box to connect the gauge to a computer for pressure data logging. I designed, machined, and soldered a simple reusable box with the necessary port connections, integrating an RS232 cable for simple computer connections.
      </p>
    </div>

    <!-- Fig 19–20 -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-8">
      <figure>
        <img
          src="/zfig19.png"
          alt="Box"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 19: Electrical box interior</figcaption>
      </figure>
      <figure>
        <img
          src="/zfig20.png"
          alt="Box"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 20: Electrical box system integration</figcaption>
      </figure>
    </div>

    <!-- DATA COLLECTION -->
    <h2 class="mt-12 text-2xl font-semibold text-gray-900">
      Data Collection
    </h2>

    <div class="mt-4 text-gray-700 leading-relaxed space-y-4">
      <p>
        Once the vacuum system was installed and consistently pumping to the desired pressure, we began testing the PUMA calibration device in vacuum. A LabView program was used to adjust parameters for data collection runs (oscilloscope scales, Xenon lamp flashes, etc.). Experiment runs would proceed as follows: Xenon flash lamp sends 10 flashes to photocathode of little PUMA, which emits electrons. PCBs at cathode and anode of little PUMA capture signal produced by electrons, and the signal is sent through an amplifier circuit and written to a file. Voltages at anode and grid are adjusted as necessary depending on context of tests. This collected data can be then used to find the grid transparency of the device, fulfilling the original goal.
      </p>
    </div>
    
    <!-- Fig 21–25 -->
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-8">
      <figure>
        <div class="w-full aspect-square overflow-hidden rounded-md shadow-lg">
          <img
            src="/zfig21.png"
            alt="Oscilloscope"
            class="w-full h-full object-cover"
          />
        </div>
        <figcaption class="mt-1 text-sm text-gray-500 text-center">
          Fig. 21: Data collection
        </figcaption>
      </figure>
    
      <figure>
        <div class="w-full aspect-square overflow-hidden rounded-md shadow-lg">
          <img
            src="/zfig22.png"
            alt="Data"
            class="w-full h-full object-cover"
          />
        </div>
        <figcaption class="mt-1 text-sm text-gray-500 text-center">
          Fig. 22: LabView Data Panel
        </figcaption>
      </figure>
    
      <figure>
        <div class="w-full aspect-square overflow-hidden rounded-md shadow-lg">
          <img
            src="/zfig23.png"
            alt="Oscilloscope"
            class="w-full h-full object-cover"
          />
        </div>
        <figcaption class="mt-1 text-sm text-gray-500 text-center">
          Fig. 23: Data collection
        </figcaption>
      </figure>
    </div>

    <figure class="mt-8">
        <img
          src="/zfig24.png"
          alt="Lab"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">
          Fig, 24: Instrumentation setup in laboratory
        </figcaption>
    </figure>

   <div class="mt-4 text-gray-700 leading-relaxed space-y-4">
      <p>
        Data analysis was performed in JupyterLab using matplotlib and numpy and files can be found in the GitHub respository listed at the top of the page.
      </p>
    </div>

    <figure class="mt-8">
        <img
          src="/zfig25.png"
          alt="Data results"
          class="w-full h-auto rounded-md shadow-lg"
        />
      <figcaption class="mt-1 text-sm text-gray-500 text-center">
        Fig. 25: Selected data analysis results
      </figcaption>
    </figure>

    <!-- LOLX -->
    <h2 class="mt-12 text-2xl font-semibold text-gray-900">
      LolX: Remote Data Collection
    </h2>

   <div class="mt-4 text-gray-700 leading-relaxed space-y-4">
      <p>
        A side task which I participated in was collecting PUMA data remotely. While I was at TRIUMF, PUMA itself was being held at McGill for testing in gaseous xenon. It was necessary to remotely access the McGill desktop and instrumentation through various physics software to take data. I used LabView and ISEG to set up oscilloscopes and voltage supplies remotely and perform data collections runs. I documented all of my data runs thoroughly in the team’s eLog.
      </p>
    </div>

    <!-- Fig 26–27 -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-8">
      <figure>
        <img
          src="/zfig26.png"
          alt="Data results"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 26: LolX data collection</figcaption>
      </figure>
      <figure>
        <img
          src="/zfig27.png"
          alt="Data results"
          class="w-full h-auto rounded-md shadow-lg"
        />
        <figcaption class="mt-1 text-sm text-gray-500 text-center">Fig. 27: More LolX data</figcaption>
      </figure>
    </div>

    <!-- SUMMARY -->
    <h2 class="mt-12 text-2xl font-semibold text-gray-900">
      Reflection
    </h2>

    <p class="mt-4 text-gray-700 leading-relaxed">
      Working at TRIUMF was a great experience, and I enjoyed being in charge of a project within a larger cutting-edge physics context. I had the opportunity to both lead my own work and collaborate with an international group, and I was proud of the significant progress I delivered to the team over my four-month internship.
    </p>

    <p class="mt-4 text-gray-700 leading-relaxed">
      At the end of my term, I participated in TRIUMF's co-op poster session, for which I created a poster (shown below) to present my work to other engineers and physicists at TRIUMF. I was honoured to be awarded 2nd place out of all undergrad and masters students.
    </p>

    <div class="mt-12">
      <h2 class="text-2xl font-semibold mb-4">
        Poster for TRIUMF undergrad poster session
      </h2>
      <iframe src="/final_poster.pdf" class="w-full h-[600px] border rounded-lg"></iframe>
    </div>

    <p class="mt-4 text-gray-700 leading-relaxed">
      Below is the final report I wrote as a reference for the team and future co-ops. It provides more details about my time at TRIUMF.
    </p>

    <div class="mt-8">
      <h2 class="text-2xl font-semibold mb-4">
        Co-op Term Final Report
      </h2>
      <iframe src="/final_report.pdf" class="w-full h-[600px] border rounded-lg"></iframe>
    </div>
  </section>
</Layout>
